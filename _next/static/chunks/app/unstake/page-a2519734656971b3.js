(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[137],{35883:function(){},52361:function(){},94616:function(){},68823:function(e,t,a){Promise.resolve().then(a.bind(a,68513))},68513:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return M}});var r,s,l,n=a(3827),i=a(64090),c=a(21142),o=e=>{let{expiryTimestamp:t}=e;console.log("EXPIRY",t);let{seconds:a,minutes:r,hours:s,days:l,isRunning:i,start:o,pause:m,resume:d,restart:x}=(0,c.useTimer)({expiryTimestamp:t,onExpire:()=>console.warn("onExpire called")});return(0,n.jsx)("div",{children:"".concat(l,": ").concat(s," : ").concat(r," : ").concat(a)})},m={src:"/_next/static/media/claimbtn.ae44f330.png",height:85,width:160,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAMAAACEE47CAAAAElBMVEUAmnIAm3IAnHQAl3AAkW0AjXE+yo7YAAAABnRSTlNHUjMlBwnUrVzJAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAH0lEQVR4nB3BgQ0AMAiAMBD3/8tLbHGOEIOBW/VEjh8D5AAxOT6UxwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:4},d=a(20703),x=a(25223),u=a(37772),A=a(52805),g=a(52536),b=a(8400),h=a(56267),f=a(7894),p=a(6616),w=a(30299);(r=s||(s={})).getTier=e=>{switch(e){case 7:return 1;case 14:return 2;case 28:return 3;default:return null}},r.getRewardTime=e=>{switch(e){case 0:return 40;case 1:return 240;case 2:return 360;case 3:return 420}};var T=s,N=a(95884),S=e=>{let{flexibleUnclaimableRewards:t,flexibleStakedAmount:a,flexibleClaimedAmount:r,userFlexibleStakes:s,getUserFlexibleClaimedAmount:l,getUserFlexibleStakeAmount:c,getUserFlexibleClaimableRewards:S,getUserFexibleStakes:C}=e,{address:k,chainId:E,isConnected:U}=(0,u.Zc)(),{walletProvider:j}=(0,u.B0)(),[v,D]=(0,i.useState)(!1),[I,O]=(0,i.useState)(0);console.log("Near claim time",I);let[y,Z]=(0,i.useState)(0);(0,i.useEffect)(()=>{Z(e=>e+1)},[I]),(0,i.useEffect)(()=>{(null==s?void 0:s.length)>0&&F()},[s]);let F=()=>{var e,t;let a=null==s?void 0:s.filter(e=>0===parseInt(e.stakingTier.toString(),10));(null==a?void 0:a.length)===0&&O(0);let r=null===(e=a[0])||void 0===e?void 0:e.lastClaimTime.toNumber();for(let e=1;e<(null==a?void 0:a.length);e++){let s=null===(t=a[e])||void 0===t?void 0:t.lastClaimTime.toNumber();s<r&&(r=s)}O(r+x.Z.CLAIM_CYCLE[0])};console.log("near ",Number(I));let R=[{name:"time TO next claim ",value:I>0?(0,n.jsx)(o,{expiryTimestamp:new Date(1e3*Number(I)+1e3*T.getRewardTime(0))},y):"0:0:0:0"},{name:"total Amount staked",value:"".concat(Number(a)>0?N.Z.decFixed(Number(A.formatUnits(a,x.Z.DEPOSIT_TOKEN_DECIMALS)),5):0)},{name:"Total AMOUNT paid OUT",value:"".concat(Number(r)>0?N.Z.decFixed(Number(A.formatUnits(r,x.Z.DEPOSIT_TOKEN_DECIMALS)),5):0)},{name:"total AMOUNT unclaimable",value:"".concat(Number(t)>0?N.Z.decFixed(Number(A.formatUnits(t,x.Z.DEPOSIT_TOKEN_DECIMALS)),5):0)}],_=async()=>{try{var e;if(D(!0),!j)throw Error("Please connect wallet");console.log("chains",E,x.Z.DEPOSIT_TOKEN[x.Z.DEFAULT_CHAIN]);let t=new g.Q(j).getSigner(),a=new b.CH(x.Z.STAKING_CONTRACT[x.Z.DEFAULT_CHAIN],h.Z,t),r=(await a.getStakingDetails(0)).claimRewardsCycle,s=await a.getUserStake(0,k);if((null==s?void 0:s.length)==0)throw Error("Must have stakes to claim rewards");let n=null===(e=s[0])||void 0===e?void 0:e.lastClaimTime.add(r);if(console.log("TIME",Number(n)),Date.now()/1e3<Number(n))throw Error("Cannot claim now");let i=await a.claimRewards(0);await i.wait(),await C(),await S(),await l(),await c(),D(!1),(0,f.XA)("success","Transaction successful")}catch(e){console.log("claim error",e),D(!1),e.code===p.Yd.errors.ACTION_REJECTED?(0,f.Eo)("Error","User denied transaction."):e.message&&(0,f.Eo)("Error",e.message)}};return(0,n.jsxs)(n.Fragment,{children:[v&&(0,n.jsx)(w.Z,{}),(0,n.jsxs)("div",{className:"rounded-[52px] border-[15px] border-black bg-white backdrop-blur-[26px] w-[460px] h-[374px] max-sm:w-full",children:[(0,n.jsx)("h1",{className:"text-black text-center text-[28px] uppercase mt-5",children:"Claim Rewards"}),(0,n.jsx)("div",{className:"px-5 mt-6 max-sm:px-3",children:R.map(e=>(0,n.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,n.jsx)("h5",{className:"text-[#009c73] text-base font-extrabold uppercase max-sm:text-sm",children:e.name}),(0,n.jsx)("div",{className:"text-black text-base font-extrabold uppercase max-sm:text-sm",children:e.value})]}))}),(0,n.jsx)("div",{className:"flex justify-center items-center mt-5",onClick:()=>_(),children:(0,n.jsx)(d.default,{src:m,alt:"claimbtn",className:"cursor-pointer"})})]})]})},C={src:"/_next/static/media/unstakebtn.13dd8ee8.png",height:85,width:160,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAMAAACEE47CAAAADFBMVEUAmXAAmXEAm3MAk22tGdTVAAAABHRSTlMySFkbdiSlOQAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAB1JREFUeJxjYGIAAyYGJgZGKIOZgZmZgZmJgREKAAIQACL/X7oAAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:4},k=a(60207),E=a(14261);!function(e){function t(e){let t=e.getHours(),a=e.getMinutes(),r=t>=12?"PM":"AM";return t%=12,t=t||12,"".concat(t,":").concat(a," ").concat(r)}e.DateFormat={date:"MM/dd/yyyy",dateTime:"MMM dd, yyyy 'at' hh:mm a"},e.dateToString=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.DateFormat.date;return t&&(0,k.J)(t)?(0,E.WU)(t,a):""},e.convertDateStringToFormattedDate=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.DateFormat.dateTime,r=new Date(t);return(0,k.J)(r)?(0,E.WU)(r,a):""},e.dateToCustomFormat=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.DateFormat.dateTime;return(0,k.J)(t)?(0,E.WU)(t,a):""},e.unixTimestampToString=function(e){return new Date(1e3*e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})},e.dateFormattedPlusDays=function(e,t){let a=new Date(1e3*e),r=new Date(a);return r.setDate(a.getDate()+t),r.toLocaleDateString("en-US",{timeZone:"UTC",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0})},e.secondsToUtcTime=function(e){let t=new Date(1e3*e);return t.getTime()/1e3-60*t.getTimezoneOffset()},e.formatUnixTimestamp=function(e){let a=new Date(1e3*e);return"".concat(a.getDate(),"/").concat(a.getMonth()+1,"/").concat(a.getFullYear(),", ").concat(t(a))},e.formatTime=t}(l||(l={}));var U=l,j=a(48796),v={src:"/_next/static/media/Warning.120e0c97.png",height:47,width:47,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJFBMVEX/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD+AAD/AAD/AADJYJSsAAAADHRSTlMB/RUe3Mh2t5fpPWIdyl9yAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAMUlEQVR4nCWJyQ3AMAyAoHbu/feN3PABCYAIHpnPXXs5HMOa09acsK1wc1yZywPfDxcTKQCvgJcFwQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},D=e=>{let{close:t}=e;return(0,n.jsxs)("div",{className:"rounded-[50px] border-[15px] border-[#009c73] bg-white backdrop-blur-[24px] min-h-[271px] pr-5 py-3",children:[(0,n.jsx)("div",{className:"flex justify-end items-end",children:(0,n.jsx)(j.QAE,{color:"#009c73",fontSize:20,cursor:"pointer",onClick:t})}),(0,n.jsx)("div",{className:"flex justify-center items-center mt-3",children:(0,n.jsx)(d.default,{src:v,alt:"warningimg"})}),(0,n.jsx)("h1",{className:"text-black text-center text-[27px] uppercase mt-2 max-sm:text-xl max-sm:mt-5",children:"You don't have $TYPHOON staked in this tier"})]})},I=a(27338),O=e=>{let{userFlexibleStakes:t,getUserFlexibleClaimedAmount:a,getUserFlexibleStakeAmount:r,getUserFlexibleClaimableRewards:s,getUserFexibleStakes:l}=e,{address:c,chainId:m,isConnected:T}=(0,u.Zc)(),{walletProvider:S}=(0,u.B0)(),[k,E]=(0,i.useState)(!1),[j,v]=(0,i.useState)(!1),[O,y]=(0,i.useState)(!0),Z=()=>{E(!1)},F=async e=>{try{if(v(!0),!S)throw Error("Please connect wallet");console.log("chains",m,x.Z.DEPOSIT_TOKEN[x.Z.DEFAULT_CHAIN]);let t=new g.Q(S).getSigner(),n=new b.CH(x.Z.STAKING_CONTRACT[x.Z.DEFAULT_CHAIN],h.Z,t),i=await n.getStakeEndTime(e.stakingTier,c,e.stakingIndex);if(Number(i)>=Date.now()/1e3)throw Error("Unlock Time not reached yet");let o=await n.unstake(e.stakingTier,e.stakingIndex);await o.wait(),await l(),await s(),await a(),await r(),v(!1),(0,f.XA)("success","Transaction successful")}catch(e){console.log("unstake error",e),v(!1),e.code===p.Yd.errors.ACTION_REJECTED?(0,f.Eo)("Error","User denied transaction."):e.message&&(0,f.Eo)("Error",e.message)}};return(0,i.useEffect)(()=>{let e=setTimeout(()=>{t&&E(0===t.length)},5e3);return()=>clearTimeout(e)},[t]),console.log("USER FLEXIBLE STAKES",t),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(I.Z,{open:k,onCancel:Z,centered:!0,width:589,children:(0,n.jsx)(D,{close:Z})}),j&&(0,n.jsx)(w.Z,{}),(0,n.jsx)("div",{className:"rounded-[57px] border-[15px] border-[#000] bg-white backdrop-blur-[28px] flex-1 h-[374px]   py-5 px-3  max-xl:w-full ",children:(0,n.jsx)("div",{className:"inline-flex w-full overflow-x-auto",children:(0,n.jsxs)("div",{className:"w-full max-xl:min-w-[1000px] pb-2",children:[(0,n.jsxs)("div",{className:"flex items-center border-b border-[#009c73] pb-4",children:[(0,n.jsx)("h5",{className:"text-[#009c73] text-[18px] font-extrabold uppercase flex-1 text-center max-2xl:text-base ",children:"stake date"}),(0,n.jsx)("h5",{className:"text-[#009c73] text-[18px] font-extrabold uppercase flex-1 text-center max-2xl:text-base ",children:"amount of stake"}),(0,n.jsx)("h5",{className:"text-[#009c73] text-[18px] font-extrabold uppercase flex-1 text-center max-2xl:text-base ",children:"amount of reward"}),(0,n.jsx)("h5",{className:"text-[#009c73] text-[18px] font-extrabold uppercase flex-1 text-center max-2xl:text-base ",children:"Remaining Time"}),(0,n.jsx)("h5",{className:"text-[#009c73] text-[18px] font-extrabold uppercase flex-1 text-center max-2xl:text-base ",children:"Action"})]}),(0,n.jsx)("div",{className:"overflow-y-scroll scrollbar h-[250px]",children:t.map(e=>(0,n.jsxs)("div",{className:"flex items-center border-b border-[#009c73] pb-0",children:[(0,n.jsx)("h5",{className:"text-black text-[18px] font-extrabold uppercase flex-1 text-center ",children:U.unixTimestampToString(Number(e.stakingStartTime))}),(0,n.jsx)("h5",{className:"text-black text-[18px] font-extrabold uppercase flex-1 text-center ",children:Number(e.stakedAmount)>0?N.Z.decFixed(Number(A.formatUnits(e.stakedAmount,x.Z.DEPOSIT_TOKEN_DECIMALS)),5):0}),(0,n.jsx)("h5",{className:"text-black text-[18px] font-extrabold uppercase flex-1 text-center ",children:Number(e.indexReward)>0?N.Z.decFixed(Number(A.formatUnits(e.indexReward,x.Z.DEPOSIT_TOKEN_DECIMALS)),5):0}),(0,n.jsx)("h5",{className:"text-black text-[18px] font-extrabold uppercase flex-1 text-center ",children:(0,n.jsx)(o,{expiryTimestamp:new Date(Date.now()+1e3*Number(e.stakingEndTime)-Date.now())})}),(0,n.jsx)("div",{className:"flex-1 flex justify-center items-center",onClick:()=>F(e),children:(0,n.jsx)(d.default,{src:C,draggable:"false",alt:"image",className:"cursor-pointer"})})]}))})]})})})]})},y=e=>{let{userFlexibleStakes:t,flexibleUnclaimableRewards:a,flexibleStakedAmount:r,flexibleClaimedAmount:s,getUserFlexibleClaimedAmount:l,getUserFlexibleStakeAmount:i,getUserFlexibleClaimableRewards:c,getUserFexibleStakes:o}=e;return(0,n.jsxs)("div",{className:"flex gap-6 items-center max-xl:flex-col max-sm:pb-20",children:[(0,n.jsx)(O,{userFlexibleStakes:t,getUserFlexibleClaimedAmount:l,getUserFlexibleStakeAmount:i,getUserFlexibleClaimableRewards:c,getUserFexibleStakes:o}),(0,n.jsx)(S,{flexibleUnclaimableRewards:a,flexibleStakedAmount:r,flexibleClaimedAmount:s,userFlexibleStakes:t,getUserFlexibleClaimedAmount:l,getUserFlexibleStakeAmount:i,getUserFlexibleClaimableRewards:c,getUserFexibleStakes:o})]})},Z=a(61501),F=e=>{let{otherUnclaimableRewards:t,otherStakedAmount:a,otherClaimedAmount:r,firstUnclaimableRewards:s,firstStakedAmount:l,firstClaimedAmount:c,secondUnclaimableRewards:S,secondStakedAmount:C,secondClaimedAmount:k,selectedDays:E,userOtherStakes:U,getUserOtherClaimedAmount:j,getUserOtherStakedAmount:v,getUserOtherClaimableRewards:D,getUserOtherStakes:I}=e,O=T.getTier(E),[y,F]=(0,i.useState)(Z.O$.from(0)),[R,_]=(0,i.useState)(Z.O$.from(0)),[L,M]=(0,i.useState)(Z.O$.from(0)),{address:H,chainId:P,isConnected:K}=(0,u.Zc)(),{walletProvider:B}=(0,u.B0)(),[J,Q]=(0,i.useState)(!1);(0,i.useEffect)(()=>{O&&O>0&&(1==Number(O)?(M(c),_(l),F(s)):2==Number(O)?(M(k),_(C),F(S)):3==Number(O)&&(M(r),_(a),F(t)))},[O,t,a,r,s,l,c,S,C,k,E]);let[G,$]=(0,i.useState)(0);console.log("Near claim time",G);let[X,Y]=(0,i.useState)(0);(0,i.useEffect)(()=>{Y(e=>e+1)},[G]),(0,i.useEffect)(()=>{(null==U?void 0:U.length)>0&&O&&O>0&&V()},[U,O]);let V=()=>{var e,t;let a=U.filter(e=>parseInt(e.stakingTier.toString(),10)===O);0===a.length&&$(0);let r=null===(e=a[0])||void 0===e?void 0:e.lastClaimTime.toNumber();for(let e=1;e<a.length;e++){let s=null===(t=a[e])||void 0===t?void 0:t.lastClaimTime.toNumber();s<r&&(r=s)}$(r+x.Z.CLAIM_CYCLE[O])},W=[{name:"time TO next claim ",value:G>0&&O?(0,n.jsx)(o,{expiryTimestamp:new Date(1e3*Number(G)+1e3*T.getRewardTime(O))},X):"0:0:0:0"},{name:"total Amount staked",value:"".concat(Number(R)>0?N.Z.decFixed(Number(A.formatUnits(R,x.Z.DEPOSIT_TOKEN_DECIMALS)),5):0)},{name:"Total AMOUNT paid OUT",value:"".concat(Number(L)>0?N.Z.decFixed(Number(A.formatUnits(L,x.Z.DEPOSIT_TOKEN_DECIMALS)),5):0)},{name:"total AMOUNT unclaimable",value:"".concat(Number(y)>0?N.Z.decFixed(Number(A.formatUnits(y,x.Z.DEPOSIT_TOKEN_DECIMALS)),5):0)}],z=async()=>{try{var e;if(Q(!0),!B)throw Error("Please connect wallet");console.log("chains",P,x.Z.DEPOSIT_TOKEN[x.Z.DEFAULT_CHAIN]);let t=new g.Q(B).getSigner(),a=new b.CH(x.Z.STAKING_CONTRACT[x.Z.DEFAULT_CHAIN],h.Z,t),r=(await a.getStakingDetails(O)).claimRewardsCycle,s=await a.getUserStake(O,H);if((null==s?void 0:s.length)==0)throw Error("Must have stakes to claim rewards");let l=null===(e=s[0])||void 0===e?void 0:e.lastClaimTime.add(r);if(console.log("TIME",Number(l)),Date.now()/1e3<Number(l))throw Error("Cannot claim now");let n=await a.claimRewards(O);await n.wait(),await D(),await j(),await v(),await I(),Q(!1),(0,f.XA)("success","Transaction successful")}catch(e){console.log("claim error",e),Q(!1),e.code===p.Yd.errors.ACTION_REJECTED?(0,f.Eo)("Error","User denied transaction."):e.message&&(0,f.Eo)("Error",e.message)}};return(0,n.jsxs)(n.Fragment,{children:[J&&(0,n.jsx)(w.Z,{}),(0,n.jsxs)("div",{className:"rounded-[52px] border-[15px] border-black bg-white backdrop-blur-[26px] w-[460px] h-[374px] max-sm:w-full",children:[(0,n.jsx)("h1",{className:"text-black text-center text-[28px] uppercase mt-5",children:"Claim Rewards"}),(0,n.jsx)("div",{className:"px-5 mt-6 max-sm:px-3",children:W.map(e=>(0,n.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,n.jsx)("h5",{className:"text-[#009c73] text-base font-extrabold uppercase max-sm:text-sm",children:e.name}),(0,n.jsx)("div",{className:"text-black text-base font-extrabold uppercase max-sm:text-sm",children:e.value})]}))}),(0,n.jsx)("div",{className:"flex justify-center items-center mt-5",onClick:()=>z(),children:(0,n.jsx)(d.default,{src:m,alt:"claimbtn",className:"cursor-pointer"})})]})]})},R=e=>{let{userOtherStakes:t,selectedDays:a,getUserOtherClaimedAmount:r,getUserOtherStakedAmount:s,getUserOtherClaimableRewards:l,getUserOtherStakes:c}=e,m=T.getTier(Number(a)),{address:S,chainId:k,isConnected:E}=(0,u.Zc)(),{walletProvider:j}=(0,u.B0)(),[v,O]=(0,i.useState)(!1),[y,Z]=(0,i.useState)(!1),[F,R]=(0,i.useState)([]);(0,i.useEffect)(()=>{m&&m>0&&_(m)},[m,t]);let _=e=>{let a=t.filter(t=>parseInt(t.stakingTier.toString(),10)===e);O((null==a?void 0:a.length)==0),R(a)},L=async e=>{try{if(Z(!0),!j)throw Error("Please connect wallet");console.log("chains",k,x.Z.DEPOSIT_TOKEN[x.Z.DEFAULT_CHAIN]);let t=new g.Q(j).getSigner(),a=new b.CH(x.Z.STAKING_CONTRACT[x.Z.DEFAULT_CHAIN],h.Z,t),n=await a.getStakeEndTime(e.stakingTier,S,e.stakingIndex);if(Number(n)>=Date.now()/1e3)throw Error("Unlock Time not reached yet");let i=await a.unstake(e.stakingTier,e.stakingIndex);await i.wait(),await l(),await r(),await s(),await c(),Z(!1),(0,f.XA)("success","Transaction successful")}catch(e){console.log("unstake error",e),Z(!1),e.code===p.Yd.errors.ACTION_REJECTED?(0,f.Eo)("Error","User denied transaction."):e.message&&(0,f.Eo)("Error",e.message)}},M=()=>{O(!1)};return(0,n.jsxs)(n.Fragment,{children:[F&&t&&(null==F?void 0:F.length)==0&&(0,n.jsx)(I.Z,{open:v,onCancel:M,centered:!0,width:589,children:(0,n.jsx)(D,{close:M})}),y&&(0,n.jsx)(w.Z,{}),(0,n.jsx)("div",{className:"rounded-[57px] border-[15px] border-[#000] bg-white backdrop-blur-[28px] flex-1 h-[374px]   py-5 px-3  max-xl:w-full ",children:(0,n.jsx)("div",{className:"inline-flex w-full overflow-x-auto",children:(0,n.jsxs)("div",{className:"w-full max-xl:min-w-[1000px] pb-2",children:[(0,n.jsxs)("div",{className:"flex items-center border-b border-[#009c73] pb-4",children:[(0,n.jsx)("h5",{className:"text-[#009c73] text-[18px] font-extrabold uppercase flex-1 text-center max-2xl:text-base ",children:"stake date"}),(0,n.jsx)("h5",{className:"text-[#009c73] text-[18px] font-extrabold uppercase flex-1 text-center max-2xl:text-base ",children:"amount of stake"}),(0,n.jsx)("h5",{className:"text-[#009c73] text-[18px] font-extrabold uppercase flex-1 text-center max-2xl:text-base ",children:"amount of reward"}),(0,n.jsx)("h5",{className:"text-[#009c73] text-[18px] font-extrabold uppercase flex-1 text-center max-2xl:text-base ",children:"Remaining Time"}),(0,n.jsx)("h5",{className:"text-[#009c73] text-[18px] font-extrabold uppercase flex-1 text-center max-2xl:text-base ",children:"Action"})]}),(0,n.jsx)("div",{className:"overflow-y-scroll scrollbar h-[250px]",children:null==F?void 0:F.map(e=>(0,n.jsxs)("div",{className:"flex items-center border-b border-[#009c73] pb-0",children:[(0,n.jsx)("h5",{className:"text-black text-[18px] font-extrabold uppercase flex-1 text-center ",children:U.unixTimestampToString(Number(e.stakingStartTime))}),(0,n.jsx)("h5",{className:"text-black text-[18px] font-extrabold uppercase flex-1 text-center ",children:Number(e.stakedAmount)>0?N.Z.decFixed(Number(A.formatUnits(e.stakedAmount,x.Z.DEPOSIT_TOKEN_DECIMALS)),5):0}),(0,n.jsx)("h5",{className:"text-black text-[18px] font-extrabold uppercase flex-1 text-center ",children:Number(e.indexReward)>0?N.Z.decFixed(Number(A.formatUnits(e.indexReward,x.Z.DEPOSIT_TOKEN_DECIMALS)),5):0}),(0,n.jsx)("h5",{className:"text-black text-[18px] font-extrabold uppercase flex-1 text-center ",children:(0,n.jsx)(o,{expiryTimestamp:new Date(Date.now()+1e3*Number(e.stakingEndTime)-Date.now())})}),(0,n.jsx)("div",{className:"flex-1 flex justify-center items-center",onClick:()=>L(e),children:(0,n.jsx)(d.default,{src:C,draggable:"false",alt:"image",className:"cursor-pointer"})})]}))})]})})})]})},_=e=>{let{userOtherStakes:t,otherUnclaimableRewards:a,otherStakedAmount:r,otherClaimedAmount:s,firstUnclaimableRewards:l,firstStakedAmount:i,firstClaimedAmount:c,secondUnclaimableRewards:o,secondStakedAmount:m,secondClaimedAmount:d,selectedDays:x,getUserOtherClaimedAmount:u,getUserOtherStakedAmount:A,getUserOtherClaimableRewards:g,getUserOtherStakes:b}=e;return(0,n.jsxs)("div",{className:"flex gap-6 items-center max-xl:flex-col max-sm:pb-20",children:[(0,n.jsx)(R,{userOtherStakes:t,selectedDays:x,getUserOtherClaimedAmount:u,getUserOtherStakedAmount:A,getUserOtherClaimableRewards:g,getUserOtherStakes:b}),(0,n.jsx)(F,{otherUnclaimableRewards:a,otherStakedAmount:r,otherClaimedAmount:s,firstUnclaimableRewards:l,firstStakedAmount:i,firstClaimedAmount:c,secondUnclaimableRewards:o,secondStakedAmount:m,secondClaimedAmount:d,selectedDays:x,userOtherStakes:t,getUserOtherClaimedAmount:u,getUserOtherStakedAmount:A,getUserOtherClaimableRewards:g,getUserOtherStakes:b})]})},L=e=>{let{setActiveTab:t,close:a,setSelectedDays:r}=e,[s,l]=(0,i.useState)(!1),c=()=>{l(!1)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(I.Z,{open:s,onCancel:c,centered:!0,width:589,children:(0,n.jsx)(D,{close:c})}),(0,n.jsxs)("div",{className:"rounded-[50px] border-[15px] border-[#009c73] bg-white backdrop-blur-[24px] min-h-[262px] pr-5 py-3",children:[(0,n.jsx)("div",{className:"flex justify-end items-end",children:(0,n.jsx)(j.QAE,{color:"#009c73",fontSize:20,cursor:"pointer",onClick:a})}),(0,n.jsx)("h1",{className:"text-black text-[27px] uppercase text-center mt-2 max-sm:text-xl",children:"Select Lock Period"}),(0,n.jsxs)("div",{className:"flex gap-5 justify-center mt-10 flex-wrap",children:[(0,n.jsx)("div",{className:"rounded-[10px] border-[5px] border-[#009c73] w-[120px] h-[68px] flex justify-center items-center cursor-pointer hover:bg-[#009c73]",onClick:()=>{r(7),t("locked"),a()},children:(0,n.jsx)("h5",{className:"text-black text-2xl font-extrabold uppercase max-sm:text-xl",children:"7 Days"})}),(0,n.jsx)("div",{className:"rounded-[10px] border-[5px] border-[#009c73] w-[120px] h-[68px] flex justify-center items-center cursor-pointer hover:bg-[#009c73]",onClick:()=>{r(14),t("locked"),a()},children:(0,n.jsx)("h5",{className:"text-black text-2xl font-extrabold uppercase max-sm:text-xl",children:"14 Days"})}),(0,n.jsx)("div",{className:"rounded-[10px] border-[5px] border-[#009c73] w-[120px] h-[68px] flex justify-center items-center cursor-pointer hover:bg-[#009c73]",onClick:()=>{r(28),t("locked"),a()},children:(0,n.jsx)("h5",{className:"text-black text-2xl font-extrabold uppercase max-sm:text-xl",children:"28 Days"})})]})]})]})},M=()=>{let[e,t]=(0,i.useState)(null),[a,r]=(0,i.useState)("flexible"),{address:s,chainId:l,isConnected:c}=(0,u.Zc)(),{walletProvider:o}=(0,u.B0)(),[m,d]=(0,i.useState)([]),[A,f]=(0,i.useState)([]),[p,w]=(0,i.useState)(Z.O$.from(0)),[T,N]=(0,i.useState)(Z.O$.from(0)),[S,C]=(0,i.useState)(Z.O$.from(0)),[k,E]=(0,i.useState)(Z.O$.from(0)),[U,j]=(0,i.useState)(Z.O$.from(0)),[v,D]=(0,i.useState)(Z.O$.from(0)),[O,F]=(0,i.useState)(Z.O$.from(0)),[R,M]=(0,i.useState)(Z.O$.from(0)),[H,P]=(0,i.useState)(Z.O$.from(0)),[K,B]=(0,i.useState)(Z.O$.from(0)),[J,Q]=(0,i.useState)(Z.O$.from(0)),[G,$]=(0,i.useState)(Z.O$.from(0));(0,i.useEffect)(()=>{c&&l==x.Z.DEFAULT_CHAIN&&(X(),Y())},[c,s,l]),(0,i.useEffect)(()=>{c&&l==x.Z.DEFAULT_CHAIN&&(V(),W())},[c,s,l]),(0,i.useEffect)(()=>{c&&l==x.Z.DEFAULT_CHAIN&&s&&(z(),q())},[c,s,l]),(0,i.useEffect)(()=>{c&&l==x.Z.DEFAULT_CHAIN&&(ee(),et())},[c,s,l]);let X=async()=>{try{let e=new g.Q(o).getSigner(),t=new b.CH(x.Z.STAKING_CONTRACT[x.Z.DEFAULT_CHAIN],h.Z,e),a=await t.getStakingDetails(0);console.log("stakingDetails",a);let r=await t.getUserStake(0,s);console.log("USER FLEXIBLE STAKES123",r);let l=[];if((null==r?void 0:r.length)>0)for(let e=0;e<(null==r?void 0:r.length);e++){let a=await t.calculateTierStakingIndexRewards(s,0,r[e].stakingIndex),n={lastClaimTime:r[e].lastClaimTime,stakedAmount:r[e].stakedAmount,stakingEndTime:r[e].stakingEndTime,stakingIndex:r[e].stakingIndex,stakingStartTime:r[e].stakingStartTime,stakingTier:r[e].stakingTier,indexReward:a};l.push(n)}d(l)}catch(e){console.log("get user balance error",e)}},Y=async()=>{try{let e=new g.Q(o).getSigner(),t=new b.CH(x.Z.STAKING_CONTRACT[x.Z.DEFAULT_CHAIN],h.Z,e),a=[];for(let e=1;e<=3;e++){let r=await t.getUserStake(e,s);a.push(r)}let r=[];for(let e=0;e<(null==a?void 0:a.length);e++)for(let l=0;l<a[e].length;l++){let n=await t.calculateTierStakingIndexRewards(s,a[e][l].stakingTier,a[e][l].stakingIndex),i={lastClaimTime:a[e][l].lastClaimTime,stakedAmount:a[e][l].stakedAmount,stakingEndTime:a[e][l].stakingEndTime,stakingIndex:a[e][l].stakingIndex,stakingStartTime:a[e][l].stakingStartTime,stakingTier:a[e][l].stakingTier,indexReward:n};r.push(i)}f(r)}catch(e){console.log("get user balance error",e)}},V=async()=>{try{let e=new g.Q(o).getSigner(),t=new b.CH(x.Z.STAKING_CONTRACT[x.Z.DEFAULT_CHAIN],h.Z,e),a=await t.calculateRewards(0,s);w(a)}catch(e){console.log("getUserFlexibleClaimableRewards",e)}},W=async()=>{try{let e=new g.Q(o).getSigner(),t=new b.CH(x.Z.STAKING_CONTRACT[x.Z.DEFAULT_CHAIN],h.Z,e),a=await t.calculateRewards(3,s),r=await t.calculateRewards(2,s),l=await t.calculateRewards(1,s);E(a),N(l),C(r)}catch(e){console.log("getUserFlexibleClaimableRewards",e)}},z=async()=>{try{let e=new g.Q(o).getSigner(),t=new b.CH(x.Z.STAKING_CONTRACT[x.Z.DEFAULT_CHAIN],h.Z,e),a=await t.getUserStakingInTier(s,0);j(a)}catch(e){console.log("getUserFlexibleClaimableRewards",e)}},q=async()=>{try{let e=new g.Q(o).getSigner(),t=new b.CH(x.Z.STAKING_CONTRACT[x.Z.DEFAULT_CHAIN],h.Z,e);Z.O$.from(0);let a=await t.getUserStakingInTier(s,1),r=await t.getUserStakingInTier(s,2),l=await t.getUserStakingInTier(s,3);D(a),F(r),M(l)}catch(e){console.log("getUserFlexibleClaimableRewards",e)}},ee=async()=>{try{let e=new g.Q(o).getSigner(),t=new b.CH(x.Z.STAKING_CONTRACT[x.Z.DEFAULT_CHAIN],h.Z,e),a=await t.getUserTierClaimedRewards(0,s);P(a)}catch(e){console.log("getUserFlexibleClaimedAmount",e)}},et=async()=>{try{let e=new g.Q(o).getSigner(),t=new b.CH(x.Z.STAKING_CONTRACT[x.Z.DEFAULT_CHAIN],h.Z,e);Z.O$.from(0);let a=await t.getUserTierClaimedRewards(1,s),r=await t.getUserTierClaimedRewards(2,s),l=await t.getUserTierClaimedRewards(3,s);Q(a),$(r),B(l)}catch(e){console.log("getUserOtherClaimedAmount",e)}},[ea,er]=(0,i.useState)(!1),es=()=>{er(!0)},el=()=>{er(!1)};return console.log("selected days",e),(0,n.jsxs)("div",{children:[(0,n.jsx)(I.Z,{open:ea,onCancel:el,centered:!0,width:589,children:(0,n.jsx)(L,{setActiveTab:r,close:el,setSelectedDays:t})}),(0,n.jsxs)("div",{className:"container mx-auto px-4",children:[(0,n.jsx)("div",{className:"flex justify-center items-center mt-16",children:(0,n.jsxs)("div",{className:"rounded-[23px] bg-[#009c73] border-[3px]   border-white w-[413px] h-[99px] flex justify-between items-center max-sm:w-full max-sm:h-[80px]",children:[(0,n.jsx)("button",{className:"text-[#000] text-2xl uppercase w-[303px] max-sm:w-full max-sm:text-base ".concat("flexible"===a?"text-black bg-white flexible-tab h-full":""),onClick:()=>r("flexible"),children:(0,n.jsx)("h1",{className:"-mt-2",children:"Flexible"})}),(0,n.jsx)("button",{className:"text-[#000] text-2xl uppercase w-[303px] max-sm:w-full max-sm:text-base  ".concat("locked"===a?"text-black bg-white locked-tab h-full":""),onClick:()=>{es()},children:(0,n.jsx)("h1",{className:"-mt-2",children:" Locked"})})]})}),(0,n.jsx)("div",{className:"mt-8",children:"flexible"===a?(0,n.jsx)(y,{userFlexibleStakes:m,flexibleUnclaimableRewards:p,flexibleStakedAmount:U,flexibleClaimedAmount:H,getUserFlexibleClaimedAmount:ee,getUserFlexibleStakeAmount:z,getUserFlexibleClaimableRewards:V,getUserFexibleStakes:X}):(0,n.jsx)(_,{userOtherStakes:A,otherUnclaimableRewards:k,otherStakedAmount:R,otherClaimedAmount:K,firstUnclaimableRewards:T,firstStakedAmount:v,firstClaimedAmount:J,secondUnclaimableRewards:S,secondStakedAmount:O,secondClaimedAmount:G,selectedDays:e,getUserOtherClaimedAmount:et,getUserOtherStakedAmount:q,getUserOtherClaimableRewards:W,getUserOtherStakes:Y})})]})]})}},7894:function(e,t,a){"use strict";a.d(t,{Eo:function(){return s},XA:function(){return l}});var r=a(8389);let s=(e,t)=>{r.ZP.error({message:e,description:t,duration:5})},l=(e,t)=>{r.ZP.success({message:e,description:t,duration:5})}},95884:function(e,t,a){"use strict";var r,s,l=a(5251),n=a(46491),i=a.n(n);(r=s||(s={})).truncateDecimals=(e,t)=>{let a=Math.pow(10,t);return Math.trunc(e*a)/a},r.decFixed=(e,t)=>{if(!e||!t)return e.toString();{let a=new RegExp("^(\\d*\\.\\d{0,".concat(t,"})\\d*"));return e.toString().replace(a,"$1")}},r.currencyFormat=(e,t)=>Number.isNaN(e||0)?e.toString():new Intl.NumberFormat("en-US",{style:"currency",currency:t||"USD"}).format(e||0),r.isNotEmpty=e=>null!=e&&""!==e&&0!==e.length,r.truncateString=(e,t)=>(e||"").length>t?"".concat(e.substring(0,t),"..."):e,r.numberWithCommas=e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),r.handleMulDecimals=(e,t,a)=>(e*10**t).toFixed(a).toString(),r.handleDivDecimals=(e,t,a)=>(e/10**t).toFixed(a).toString(),r.dottedString=e=>"".concat(null==e?void 0:e.slice(0,6),"...").concat(null==e?void 0:e.slice(36,42)),r.objectToParams=e=>l.Z.stringify(e),r.toTitleCase=e=>e.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),r.timeoutPromise=e=>new Promise(t=>setTimeout(t,e)),r.roundNumber=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=10**t,r=Math.round((e+Number.EPSILON)*a)/a;return e<0&&(r*=-1),r},r.decimalConverter=(e,t)=>(e*10**t).toFixed(0).toString(),r.addressConvertor=e=>(e||"").length<10?e||"":"".concat(e.slice(0,4),"...").concat(e.slice(e.length-6)),r.nftIdConvertor=e=>{let t=e.toString();return(t||"").length<5?t||"":"".concat(t.slice(0,3),"...").concat(t.slice(t.length-4))},r.isValidURL=e=>/(?:https?):\/\/(\w+:?\w*)?(\S+)(:\d+)?(\/|\/([\w#!:.?+=&%!\-\/]))?/.test(e),r.copyToClipboard=(e,t)=>{navigator.clipboard.writeText(e)},r.csvToJson=async(e,t)=>{if(e.target.files&&e.target.files.length>0){let a=e.target.files;a&&await i().parse(a[0],{complete:e=>{t(e.data)},header:!0,skipEmptyLines:!0})}},r.networkShould=e=>{switch(e){case"137":case"0x89":case"0x4":case"4":case"0x1":case"1":return!0;default:return!1}},r.symbolConvertor=e=>{switch(e){case"Cake-LP":return"CTZN/BUSD Cake-LP";case"UNI-V2":return"CTZN/USDC UNI-LP";default:return e}},r.numFormatter=e=>e?e>999&&e<1e6||e>1e6?"".concat((e/1e3).toFixed(1),"K"):e>1&&e<900?(console.log("num",e),e.toFixed(0)):e<0?e.toFixed(4):e.toString():e.toString(),r.makeNftId=(e,t)=>"".concat(e,"-").concat(t),r.deStructureNftId=e=>{let t=e.substring(e.indexOf("-")+1).trim();return{tokenAddress:e.substring(0,e.indexOf("-")).trim(),tokenId:t}},r.contract=(e,t,a)=>new e.eth.Contract(t,a),r.mm_dd_yy=e=>{let t=new Date(e),a=(t.getMonth()+1).toString(),r=t.getDate().toString(),s=t.getFullYear();return 1===a.length&&(a="0".concat(a)),1===r.length&&(r="0".concat(r)),"".concat(a,"-").concat(r,"-").concat(s)},r.mm_yy=e=>{let t=new Date(e),a=t.getMonth().toString(),r=t.getFullYear();switch(a){case"0":a="January";break;case"1":a="Feburary";break;case"2":a="March";break;case"3":a="April";break;case"4":a="May";break;case"5":a="June";break;case"6":a="July";break;case"7":a="August";break;case"8":a="September";break;case"9":a="October";break;case"10":a="November";break;case"11":a="December"}return"".concat(a," ").concat(r)},r.validatePattern=(e,t)=>new RegExp(e).test(t),r.dynamicSort=e=>{let t=1;return"-"===e[0]&&(t=-1,e=e.substr(1)),(a,r)=>(a[e]<r[e]?-1:a[e]>r[e]?1:0)*t},r.removeTrailingZeroes=e=>{if(isNaN(e)||Math.abs(e)<Number.EPSILON)return e;let t=e.toString().match(/^\d+(?:\.\d+)?(?=0*$|\d)/);return!t||t[0].split(".")[1].length<1?e:parseFloat(t[0])},r.countDropIdOccurrences=(e,t)=>e.reduce((e,a)=>(+a.drop_id==+t&&e++,e),0),r.countNFTsByNFTId=(e,t)=>{let a=0;for(let l=0;l<(null==e?void 0:e.length);l++){var r,s;+(null===(s=e[l])||void 0===s?void 0:null===(r=s.template_id)||void 0===r?void 0:r.nft_id)==+t&&a++}return a},r.calculateTotalFeesAndAmount=e=>(e.fees.reduce((e,t)=>e+parseInt(t.amount),0)+parseInt(e.erc20TokenAmount)).toString(),r.round=e=>e?e.toFixed(5).replace(/\.?0*$/g,""):"00.00",r.checkIntegerSign=e=>1==Math.sign(e),r.getVersionParam=()=>new URL(window.location.href).searchParams.get("v"),t.Z=s}},function(e){e.O(0,[663,452,706,428,646,715,613,967,912,479,178,971,69,744],function(){return e(e.s=68823)}),_N_E=e.O()}]);